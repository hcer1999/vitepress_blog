import{l as i,c as a,a5 as n,a as e}from"./chunks/framework.DJyBczLA.js";const g=JSON.parse('{"title":"要求其他识别器失败","description":"","frontmatter":{},"headers":[],"relativePath":"hammerjs/require-failure.md","filePath":"hammerjs/require-failure.md","lastUpdated":1733646466000}'),l={name:"hammerjs/require-failure.md"};function p(h,s,t,r,k,E){return e(),a("div",null,s[0]||(s[0]=[n(`<h1 id="要求其他识别器失败" tabindex="-1">要求其他识别器失败 <a class="header-anchor" href="#要求其他识别器失败" aria-label="Permalink to &quot;要求其他识别器失败&quot;">​</a></h1><p>使用<code>requireFailure()</code>方法，您可以让一个识别器在另一个识别器失败之前不进行识别。这在您想要嵌套两个手势时非常有用，比如水平平移（pan-horizontal）和垂直平移（pan-vertical）。您可以使用<code>dropRequireFailure()</code>方法移除这种依赖。</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> horizontal </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Hammer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Pan</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  event: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;panh&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  direction: Hammer.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">DIRECTION_HORIZONTAL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> vertical </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Hammer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Pan</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  event: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;panv&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  direction: Hammer.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">DIRECTION_VERTICAL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">vertical.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">requireFailure</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(horizontal)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><a href="https://cdn.rawgit.com/hammerjs/hammer.js/master/tests/manual/nested.html" target="_blank" rel="noreferrer"><strong>查看示例实现。</strong></a></p><h2 id="使用requirefailure识别多次轻触" tabindex="-1">使用requireFailure识别多次轻触 <a class="header-anchor" href="#使用requirefailure识别多次轻触" aria-label="Permalink to &quot;使用requireFailure识别多次轻触&quot;">​</a></h2><p>由于可以同时识别多个手势，并且一个手势可以根据其他手势的失败来识别，因此可以很容易地通过这种方式识别同一元素上的多次轻触：</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> hammer </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Hammer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(el, {})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> singleTap </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Hammer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Tap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ event: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;singletap&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> doubleTap </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Hammer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Tap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ event: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;doubletap&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, taps: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tripleTap </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Hammer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Tap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ event: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;tripletap&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, taps: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">hammer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([tripleTap, doubleTap, singleTap])</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tripleTap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">recognizeWith</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([doubleTap, singleTap])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">doubleTap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">recognizeWith</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(singleTap)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">doubleTap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">requireFailure</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(tripleTap)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">singleTap.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">requireFailure</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([tripleTap, doubleTap])</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>当一个轻触手势需要另一个手势失败才能被识别时，它的识别器会等待一个短暂的时间来检查其他手势是否失败。在这种情况下，您不应该假设它的轻触手势事件会立即被触发。</p>`,8)]))}const c=i(l,[["render",p]]);export{g as __pageData,c as default};
